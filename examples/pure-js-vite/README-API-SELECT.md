# API Select - Pure JS (Vite) –ü—Ä–∏–º–µ—Ä

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã **API Select** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ —á–∏—Å—Ç–æ–º JavaScript –ø—Ä–æ–µ–∫—Ç–µ —Å Vite.

## üì¶ –ë–ª–æ–∫: –°–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ API

–ë–ª–æ–∫ `newsList` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `api-select` –¥–ª—è –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ API.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–ª–æ–∫–∞

1. **–ì–ª–∞–≤–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å** (`featuredNewsId`)
   - –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä (`multiple: false`)
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
   - –í—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ API

2. **–°–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π** (`newsIds`)
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä (`multiple: true`)
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
   - –ú–∏–Ω–∏–º—É–º 2 –Ω–æ–≤–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω—ã
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ —Ç–µ–≥–æ–≤

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞—Ç—É
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫ (1-3)
   - –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∏ —Ç–µ–∫—Å—Ç–∞

## üîå Mock API

–î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Mock API —Å–µ—Ä–≤–µ—Ä:
- **Endpoint**: `http://localhost:3002/api/news`
- **–ú–µ—Ç–æ–¥—ã**: GET, POST
- **–î–∞–Ω–Ω—ã–µ**: 15 –º–æ–∫–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `search`, `page`, `limit`

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

```json
{
  "data": [
    { "id": 1, "name": "–ù–æ–≤–æ—Å—Ç—å 1: ...", "title": "...", "date": "2025-01-15" }
  ],
  "total": 15,
  "page": 1,
  "hasMore": true
}
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–∞

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
npm run example:vite

# –û—Ç–∫—Ä–æ–µ—Ç—Å—è http://localhost:3002
```

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–ª–æ–∫–∞

```javascript
// src/block-config.js
export const blockConfigs = {
  newsList: {
    title: 'üì∞ –°–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ API',
    icon: 'üì∞',
    render: {
      kind: 'html',
      template: (props) => {
        // HTML —à–∞–±–ª–æ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º props
        const featuredNewsId = props.featuredNewsId;
        const newsIds = props.newsIds || [];
        // ...
      }
    },
    fields: [
      // API Select - –æ–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä
      {
        field: 'featuredNewsId',
        type: 'api-select',
        apiSelectConfig: {
          url: 'http://localhost:3002/api/news',
          method: 'GET',
          multiple: false,
          placeholder: '–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –¥–ª—è –ø–æ–∏—Å–∫–∞...',
          limit: 10,
          debounceMs: 300
        }
      },
      // API Select - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
      {
        field: 'newsIds',
        type: 'api-select',
        apiSelectConfig: {
          url: 'http://localhost:3002/api/news',
          method: 'GET',
          multiple: true,
          placeholder: '–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç–∏...',
          limit: 10
        }
      }
    ]
  }
}
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è BlockBuilder

```javascript
// src/main.js
import './style.css'
import '../../../src/ui/styles/index.scss' // –ò–º–ø–æ—Ä—Ç —Å—Ç–∏–ª–µ–π BlockBuilder
import { BlockBuilder } from 'block-builder'
import { blockConfigs } from './block-config.js'

const blockBuilder = new BlockBuilder({
  containerId: 'block-builder-container',
  blockConfigs: blockConfigs,
  theme: 'light',
  locale: 'ru'
})
```

## üé® –†–µ–Ω–¥–µ—Ä–∏–Ω–≥

Pure JS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **ApiSelectControlRenderer** –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ API Select –ø–æ–ª–µ–π:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã
- –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `BlockUIController`
- –í—Å–µ —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —á–∏—Å—Ç–æ–º JS
- –°—Ç–∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã Vue3 –≤–µ—Ä—Å–∏–∏

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

‚úÖ **–ü–æ–∏—Å–∫ —Å debounce** - –∑–∞–¥–µ—Ä–∂–∫–∞ 300ms –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞
‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –∫–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ"
‚úÖ **Single/Multiple select** - –æ–¥–∏–Ω–æ—á–Ω—ã–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
‚úÖ **–ö–Ω–æ–ø–∫–∞ toggle** - –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—à–∫–∏
‚úÖ **–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ dropdown
‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞** - —Ñ–æ–∫—É—Å –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
examples/pure-js-vite/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.js              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è BlockBuilder
‚îÇ   ‚îú‚îÄ‚îÄ block-config.js      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–ª–æ–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ style.css            # –°—Ç–∏–ª–∏ –ø—Ä–∏–º–µ—Ä–∞
‚îú‚îÄ‚îÄ mock-api-server.js       # Mock API —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ vite.config.js           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite + Mock API
‚îú‚îÄ‚îÄ index.html               # HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îî‚îÄ‚îÄ README-API-SELECT.md     # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ API endpoint

```javascript
apiSelectConfig: {
  url: 'https://your-api.com/items',
  method: 'POST',
  headers: {
    'Authorization': 'Bearer token'
  }
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤

```javascript
apiSelectConfig: {
  placeholder: '–í–∞—à placeholder...',
  loadingText: '–ò–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞...',
  noResultsText: '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ',
  errorText: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞'
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

```javascript
apiSelectConfig: {
  limit: 20,              // –≠–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
  debounceMs: 500,        // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞ (ms)
  minSearchLength: 3      // –ú–∏–Ω–∏–º—É–º —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞
}
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π API** - –∑–∞–º–µ–Ω–∏—Ç–µ Mock API –Ω–∞ –≤–∞—à –±—ç–∫–µ–Ω–¥
2. **–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–ª–æ–∫–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ID –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - –∏–∑–º–µ–Ω–∏—Ç–µ HTML —à–∞–±–ª–æ–Ω –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã
4. **–î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** - —É–ª—É—á—à–∏—Ç–µ UX –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API

## üìö –°–º. —Ç–∞–∫–∂–µ

- [API-SELECT-IMPLEMENTATION.md](../../API-SELECT-IMPLEMENTATION.md) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Vue3 –ø—Ä–∏–º–µ—Ä](../vue3/README-API-SELECT.md) - –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è Vue3
- [ARCHITECTURE.md](../../ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

---

**–î–∞—Ç–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 1.0.0

