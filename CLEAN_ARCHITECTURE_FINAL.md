# โ ะงะธััะฐั ะฐััะธัะตะบัััะฐ: ะัะฐะฒะธะปัะฝะพะต ัะฐะทะดะตะปะตะฝะธะต ะฟะฐะบะตัะฐ ะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะณะพ ะบะพะดะฐ

## ะะปะฐะฒะฝัะน ะฟัะธะฝัะธะฟ

**ะะฐะบะตั ะะ ะดะพะปะถะตะฝ ะทะฝะฐัั ะพ ะฑะธะทะฝะตั-ะปะพะณะธะบะต ะฟะพะปัะทะพะฒะฐัะตะปั!**

---

## โ ะงัะพ ะฑัะปะพ ะฝะตะฟัะฐะฒะธะปัะฝะพ (ะฒัะต ะฒะฐัะธะฐะฝัั)

### ะะฐัะธะฐะฝั 1: ะฅะฐัะดะบะพะด ะฒ ะฟะฐะบะตัะต
```typescript
// src/ui/services/UIRenderer.ts (ะะะ ะะะะะขะ)
if (componentName === 'CardListBlock') {  // โ ะะะะฅะ
  this.setupCardClickHandlers(container);
}
```

### ะะฐัะธะฐะฝั 2: ะกะฟะตัะธัะธัะฝัะน ะผะตัะพะด ะฒ ะฟะฐะบะตัะต
```typescript
// src/core/BlockBuilderFacade.ts (ะะะ ะะะะะขะ)
showCardDetailModal(card: CardData): void {  // โ ะะะะฅะ
  // ะะพะณะธะบะฐ ะฟะพะบะฐะทะฐ ะดะตัะฐะปะตะน ะะะะขะะงะะ ะฒ ะฟะฐะบะตัะต
}
```

**ะะพัะตะผั ะฟะปะพัะพ:**
- โ `showCardDetailModal` โ ััะพ ัะฟะตัะธัะธัะฝะฐั ะปะพะณะธะบะฐ ะดะปั **ะบะฐััะพัะตะบ**
- โ ะะฐะบะตั ะฝะต ะดะพะปะถะตะฝ ะทะฝะฐัั ะฟัะพ "ะดะตัะฐะปะธ ะบะฐััะพัะบะธ"
- โ ะะฐะฒััะฐ ะฟะพัะฒะธััั `ProductDetailModal`, `UserDetailModal` โ ะดะพะฑะฐะฒะปััั ะผะตัะพะดั ะฒ ะฟะฐะบะตั?
- โ ะะฐัััะตะฝะธะต ะฟัะธะฝัะธะฟะฐ ะตะดะธะฝะพะน ะพัะฒะตัััะฒะตะฝะฝะพััะธ

---

## โ ะัะฐะฒะธะปัะฝะพะต ัะตัะตะฝะธะต

### ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะะข (ัะฝะธะฒะตััะฐะปัะฝัะน)                             โ
โ                                                    โ
โ  โ ะัะตะดะพััะฐะฒะปัะตั ัะฟัะฐะฒะปะตะฝะธะต ะะะะะะะ              โ
โ  โ CRUD ะพะฟะตัะฐัะธะธ: create, update, delete          โ
โ  โ UI ะดะปั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะฑะปะพะบะพะฒ                   โ
โ  โ ะะ ะทะฝะฐะตั ะฟัะพ "ะบะฐััะพัะบะธ", "ะฟัะพะดัะบัั" ะธ ั.ะด.    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                      โ
                      โ ะธัะฟะพะปัะทัะตั
                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะฌะะะะะขะะะฌะกะะะ ะะะ                              โ
โ                                                    โ
โ  โ CardListBlock.js โ ะบะพะผะฟะพะฝะตะฝั ะฟะพะปัะทะพะฒะฐัะตะปั     โ
โ  โ ะกะฒะพั ะผะพะดะฐะปะบะฐ ั ะดะตัะฐะปัะผะธ ะบะฐััะพัะบะธ               โ
โ  โ ะกะฒะพั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะัะฐะฒะธะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั

### 1. ะะฐะบะตั ะพััะฐัััั ัะฝะธะฒะตััะฐะปัะฝัะผ

```typescript
// src/core/BlockBuilderFacade.ts
export class BlockBuilderFacade {
  // โ ะฃะฝะธะฒะตััะฐะปัะฝัะต ะผะตัะพะดั ะดะปั ัะฐะฑะพัั ั ะฑะปะพะบะฐะผะธ
  async createBlock(data: ICreateBlockDto): Promise<IBlockDto>
  async updateBlock(id: string, updates: IUpdateBlockDto): Promise<IBlockDto | null>
  async deleteBlock(id: string): Promise<boolean>
  
  // โ ะฃะฝะธะฒะตััะฐะปัะฝัะต UI ะผะตัะพะดั
  closeModal(): void  // ะะฐะบัััั ัะตะบัััั ะผะพะดะฐะปะบั ะฟะฐะบะตัะฐ
  
  // โ ะะะข ัะฟะตัะธัะธัะฝัั ะผะตัะพะดะพะฒ ัะธะฟะฐ:
  // showCardDetailModal() 
  // showProductModal()
  // showUserProfileModal()
}
```

### 2. ะะพะปัะทะพะฒะฐัะตะปั ัะตะฐะปะธะทัะตั ัะฒะพั ะปะพะณะธะบั

```javascript
// src/examples/vue3/components/CardListBlock.js
// โ ะญัะพ ะะะ ะะะะฌะะะะะขะะะฏ, ะฝะต ะฟะฐะบะตัะฐ!

export default Vue.defineComponent({
  name: 'CardListBlock',
  
  // โ ะะพะปัะทะพะฒะฐัะตะปั ัะฟัะฐะฒะปัะตั ัะฒะพะธะผ ัะพััะพัะฝะธะตะผ
  data() {
    return {
      selectedCard: null,
      showModal: false  // โ ัะฒะพั ะผะพะดะฐะปะบะฐ!
    };
  },
  
  methods: {
    // โ ะะพะปัะทะพะฒะฐัะตะปั ัะตัะฐะตั, ััะพ ะดะตะปะฐัั ะฟัะธ ะบะปะธะบะต
    handleCardClick(event, card) {
      event.preventDefault();
      this.selectedCard = card;
      this.showModal = true;  // โ ัะฒะพั ะปะพะณะธะบะฐ!
    },
    
    closeModal() {
      this.showModal = false;
    },
    
    openLink(link) {
      window.open(link, '_blank');
      this.closeModal();
    }
  },
  
  template: `
    <div class="card-list-block">
      <!-- ะะฐััะพัะบะธ -->
      <div @click="handleCardClick($event, card)">...</div>
      
      <!-- โ ะกะฒะพั ะผะพะดะฐะปะบะฐ ะฒ ัะฐะฑะปะพะฝะต ะบะพะผะฟะพะฝะตะฝัะฐ -->
      <div v-if="showModal" class="card-modal-overlay">
        <div class="card-modal-content">
          <h3>{{ selectedCard?.title }}</h3>
          <img :src="selectedCard.image" />
          <p>{{ selectedCard.text }}</p>
          <button @click="openLink(selectedCard.link)">
            {{ selectedCard.button }}
          </button>
        </div>
      </div>
    </div>
  `
});
```

---

## ๐ฏ ะงัะพ ัะบัะฟะพััะธััะตั ะฟะฐะบะตั

### ะัะฑะปะธัะฝัะน API ะฟะฐะบะตัะฐ

```typescript
export class BlockBuilder {
  // ===== ะะะะะ =====
  createBlock(data: ICreateBlockDto): Promise<IBlockDto>
  updateBlock(id: string, updates: IUpdateBlockDto): Promise<IBlockDto | null>
  deleteBlock(id: string): Promise<boolean>
  duplicateBlock(id: string): Promise<IBlockDto | null>
  getAllBlocks(): Promise<IBlockDto[]>
  getBlock(id: string): Promise<IBlockDto | null>
  
  // ===== ะะะะะะะะะขะซ =====
  registerComponent(name: string, component: any): void
  getComponent(name: string): any | null
  
  // ===== UI ะฃะขะะะะขะซ (ะดะปั ะผะพะดะฐะปะพะบ ัะพัะผ ะฟะฐะบะตัะฐ) =====
  closeModal(): void  // ะะฐะบัััั ะผะพะดะฐะปะบั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะฑะปะพะบะฐ
  submitModal(): void // Submit ัะพัะผั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั
  
  // ===== ะะะะคะะะฃะะะฆะะฏ =====
  getBlockConfigs(): Record<string, any>
  getAvailableBlockTypes(): string[]
  
  // ===== ะฃะขะะะะขะซ =====
  exportBlocks(): Promise<string>
  importBlocks(jsonData: string): Promise<boolean>
}
```

**ะะะข ะฒ ะฟะฐะบะตัะต:**
- โ `showCardDetailModal()` โ ััะพ ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะบะฐััะพัะตะบ
- โ `showProductModal()` โ ััะพ ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะฟัะพะดัะบัะพะฒ
- โ ะัะฑัั ะดััะณะธั ะดะพะผะตะฝะฝะพ-ัะฟะตัะธัะธัะฝัั ะผะตัะพะดะพะฒ

---

## ๐ ะัะธะผะตัั ะดััะณะธั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ะบะพะผะฟะพะฝะตะฝัะพะฒ

### ProductListBlock (ะณะธะฟะพัะตัะธัะตัะบะธะน)

```javascript
// ะะพะปัะทะพะฒะฐัะตะปั ัะพะทะดะฐัั ัะฒะพะน ะบะพะผะฟะพะฝะตะฝั ะะะ ะทะฐะฒะธัะธะผะพััะธ ะพั ะฟะฐะบะตัะฐ
export default {
  name: 'ProductListBlock',
  data() {
    return {
      selectedProduct: null,
      showProductModal: false  // โ ัะฒะพั ะผะพะดะฐะปะบะฐ!
    };
  },
  methods: {
    handleProductClick(product) {
      this.selectedProduct = product;
      this.showProductModal = true;  // โ ัะฒะพั ะปะพะณะธะบะฐ!
    }
  },
  template: `
    <div>
      <!-- ะกะฒะพั ะผะพะดะฐะปะบะฐ ะดะปั ะฟัะพะดัะบัะพะฒ -->
      <div v-if="showProductModal">
        <h3>{{ selectedProduct.name }}</h3>
        <div>ะฆะตะฝะฐ: {{ selectedProduct.price }}</div>
        <button @click="addToCart(selectedProduct)">ะ ะบะพัะทะธะฝั</button>
      </div>
    </div>
  `
};
```

### UserProfileBlock (ะณะธะฟะพัะตัะธัะตัะบะธะน)

```javascript
// ะััะณะพะน ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะบะพะผะฟะพะฝะตะฝั ัะพ ัะฒะพะตะน ะปะพะณะธะบะพะน
export default {
  name: 'UserProfileBlock',
  data() {
    return {
      showEditModal: false  // โ ัะฒะพั ะผะพะดะฐะปะบะฐ!
    };
  },
  methods: {
    editProfile() {
      this.showEditModal = true;  // โ ัะฒะพั ะปะพะณะธะบะฐ!
    }
  }
};
```

---

## ๐ ะกัะฐะฒะฝะตะฝะธะต ะฟะพะดัะพะดะพะฒ

### โ ะะตะฟัะฐะฒะธะปัะฝะพ

```typescript
// ะะฐะบะตั ัะพะดะตัะถะธั ะดะพะผะตะฝะฝัั ะปะพะณะธะบั
export class BlockBuilder {
  showCardDetailModal(card: Card): void { ... }      // โ ะะฝะฐะตั ะฟัะพ ะบะฐััะพัะบะธ
  showProductModal(product: Product): void { ... }   // โ ะะฝะฐะตั ะฟัะพ ะฟัะพะดัะบัั
  showUserProfile(user: User): void { ... }          // โ ะะฝะฐะตั ะฟัะพ ัะทะตัะพะฒ
}
```

**ะัะพะฑะปะตะผั:**
- ะะฐะบะตั ัะฐะทะดัะฒะฐะตััั ั ะบะฐะถะดัะผ ะฝะพะฒัะผ ัะธะฟะพะผ ัััะฝะพััะธ
- ะะฐัััะตะฝะธะต SRP (Single Responsibility Principle)
- ะะตะฒะพะทะผะพะถะฝะพ ะฟะตัะตะธัะฟะพะปัะทะพะฒะฐัั ะฟะฐะบะตั ะฒ ะดััะณะธั ะฟัะพะตะบัะฐั

### โ ะัะฐะฒะธะปัะฝะพ

```typescript
// ะะฐะบะตั ัะฝะธะฒะตััะฐะปัะฝัะน
export class BlockBuilder {
  createBlock(data: ICreateBlockDto): Promise<IBlockDto>  // โ ะฃะฝะธะฒะตััะฐะปัะฝะพ
  updateBlock(id: string, updates: IUpdateBlockDto): Promise<IBlockDto | null>
  deleteBlock(id: string): Promise<boolean>
}
```

```javascript
// ะะพะปัะทะพะฒะฐัะตะปั ัะฐะผ ัะตะฐะปะธะทัะตั ัะฒะพั ะปะพะณะธะบั
export default {
  data() {
    return {
      showModal: false  // โ ัะฒะพั ะผะพะดะฐะปะบะฐ ะดะปั ัะฒะพะธั ะฝัะถะด
    };
  }
};
```

**ะัะตะธะผััะตััะฒะฐ:**
- โ ะะฐะบะตั ะพััะฐัััั ะบะพะผะฟะฐะบัะฝัะผ ะธ ัะฝะธะฒะตััะฐะปัะฝัะผ
- โ ะกะพะฑะปัะดะตะฝะธะต SRP
- โ ะะตะณะบะพ ะฟะตัะตะธัะฟะพะปัะทะพะฒะฐัั ะฒ ะปัะฑัั ะฟัะพะตะบัะฐั
- โ ะะพะปัะทะพะฒะฐัะตะปั ะฝะต ะพะณัะฐะฝะธัะตะฝ API ะฟะฐะบะตัะฐ

---

## ๐ ะัะฐะฝะธัั ะพัะฒะตัััะฒะตะฝะฝะพััะธ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะะะะข                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะงัะพ ะดะตะปะฐะตั:                                          โ
โ โ ะฃะฟัะฐะฒะปะตะฝะธะต ะฑะปะพะบะฐะผะธ (CRUD)                         โ
โ โ UI ะดะปั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะฑะปะพะบะพะฒ                      โ
โ โ ะะตะณะธัััะฐัะธั ะบะพะผะฟะพะฝะตะฝัะพะฒ                           โ
โ โ ะะตะฝะดะตัะธะฝะณ ะฑะปะพะบะพะฒ                                  โ
โ                                                      โ
โ ะงัะพ ะะ ะดะตะปะฐะตั:                                       โ
โ โ ะะต ะทะฝะฐะตั ะฟัะพ "ะบะฐััะพัะบะธ", "ะฟัะพะดัะบัั", "ัะทะตัะพะฒ"    โ
โ โ ะะต ัะพะดะตัะถะธั ะฑะธะทะฝะตั-ะปะพะณะธะบั ะฟะพะปัะทะพะฒะฐัะตะปั           โ
โ โ ะะต ะดะธะบััะตั, ะบะฐะบ ะฟะพะบะฐะทัะฒะฐัั ะดะตัะฐะปะธ ัััะฝะพััะตะน      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ะะะะฌะะะะะขะะะฌะกะะะ ะะะ                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะงัะพ ะดะตะปะฐะตั:                                          โ
โ โ ะกะพะทะดะฐัั ัะฒะพะธ ะบะพะผะฟะพะฝะตะฝัั (CardListBlock, etc)     โ
โ โ ะะตะฐะปะธะทัะตั ัะฒะพั ะฑะธะทะฝะตั-ะปะพะณะธะบั                      โ
โ โ ะกะพะทะดะฐัั ัะฒะพะธ ะผะพะดะฐะปะบะธ ะธ UI                         โ
โ โ ะะตัะฐะตั, ะบะฐะบ ะฟะพะบะฐะทัะฒะฐัั ะดะตัะฐะปะธ                     โ
โ                                                      โ
โ ะงัะพ ะธัะฟะพะปัะทัะตั:                                      โ
โ โ API ะฟะฐะบะตัะฐ ะดะปั ัะตะณะธัััะฐัะธะธ ะบะพะผะฟะพะฝะตะฝัะพะฒ            โ
โ โ API ะฟะฐะบะตัะฐ ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฑะปะพะบะฐะผะธ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะัะธะฝัะธะฟั ัะธััะพะน ะฐััะธัะตะบัััั

### 1. Dependency Inversion Principle (DIP)
```
โ ะะฐะบะตั โ ะะธะทะฝะตั-ะปะพะณะธะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปั
โ ะะพะปัะทะพะฒะฐัะตะปั โ API ะฟะฐะบะตัะฐ
```

### 2. Single Responsibility Principle (SRP)
- **ะะฐะบะตั:** ัะฟัะฐะฒะปะตะฝะธะต ะฑะปะพะบะฐะผะธ
- **ะะพะปัะทะพะฒะฐัะตะปั:** ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ (ะบะฐััะพัะบะธ, ะฟัะพะดัะบัั, ะผะพะดะฐะปะบะธ)

### 3. Open/Closed Principle (OCP)
- ะะฐะบะตั ะพัะบััั ะดะปั ัะฐััะธัะตะฝะธั (API)
- ะะฐะบะตั ะทะฐะบััั ะดะปั ะผะพะดะธัะธะบะฐัะธะธ (ะฝะต ะฝัะถะฝะพ ะผะตะฝััั ะบะพะด)

### 4. Separation of Concerns
- **ะะฐะบะตั:** ัะตัะฝะธัะตัะบะธะน ััะตะนะผะฒะพัะบ
- **ะะพะปัะทะพะฒะฐัะตะปั:** ะฑะธะทะฝะตั-ะฟัะธะปะพะถะตะฝะธะต

---

## โ ะัะพะณ

### ะงัะพ ะฒ ะฟะฐะบะตัะต
```typescript
// โ ะฃะะะะะะกะะะฌะะะ
- ะฃะฟัะฐะฒะปะตะฝะธะต ะฑะปะพะบะฐะผะธ
- CRUD ะพะฟะตัะฐัะธะธ
- ะะตะฝะดะตัะธะฝะณ ะบะพะผะฟะพะฝะตะฝัะพะฒ
- UI ะดะปั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะฑะปะพะบะพะฒ
```

### ะงัะพ ั ะฟะพะปัะทะพะฒะฐัะตะปั
```javascript
// โ ะกะะะฆะะคะะงะะะ
- CardListBlock.js
- ะะพะดะฐะปะบะฐ ั ะดะตัะฐะปัะผะธ ะบะฐััะพัะบะธ
- ะะธะทะฝะตั-ะปะพะณะธะบะฐ ะบะฐััะพัะตะบ
- ะะฑัะฐะฑะพััะธะบะธ ัะพะฑััะธะน
```

### ะัะฐะฝะธัะฐ
```
ะะะะะข (ัะฝะธะฒะตััะฐะปัะฝัะน)  |  ะะะะฌะะะะะขะะะฌ (ัะฟะตัะธัะธัะฝัะน)
-----------------------|---------------------------
ะะฝััััะผะตะฝัั            |  ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะธะฝััััะผะตะฝัะพะฒ
API                    |  ะะธะทะฝะตั-ะปะพะณะธะบะฐ
ะขะตัะฝะธัะตัะบะธะน ัะปะพะน       |  ะัะธะบะปะฐะดะฝะพะน ัะปะพะน
```

---

## ๐ ะัะฒะพะด

**ะัะฐะฒะธะปัะฝะฐั ัะธััะฐั ะฐััะธัะตะบัััะฐ = ัััะบะพะต ัะฐะทะดะตะปะตะฝะธะต ัะฝะธะฒะตััะฐะปัะฝะพะณะพ ะธ ัะฟะตัะธัะธัะฝะพะณะพ**

- ะะฐะบะตั ะฟัะตะดะพััะฐะฒะปัะตั **ะธะฝััััะผะตะฝัั** (ัะฝะธะฒะตััะฐะปัะฝัะต)
- ะะพะปัะทะพะฒะฐัะตะปั ัะตะฐะปะธะทัะตั **ะปะพะณะธะบั** (ัะฟะตัะธัะธัะฝัั)
- ะะธะบะฐะบะธั ะดะพะผะตะฝะฝะพ-ัะฟะตัะธัะธัะฝัั ะผะตัะพะดะพะฒ ะฒ ะฟะฐะบะตัะต!

**ะขะตะฟะตัั ะฟะฐะบะตั ะดะตะนััะฒะธัะตะปัะฝะพ ัะฝะธะฒะตััะฐะปะตะฝ ะธ ะผะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัััั ะฒ ะปัะฑัั ะฟัะพะตะบัะฐั!** โ

