# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –≤ examples\pure-js-vite

## –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –°–ª–∞–π–¥–µ—Ä –±–ª–æ–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ:** –í–º–µ—Å—Ç–æ Swiper —Å–ª–∞–π–¥–µ—Ä–∞ –≤—ã–≤–æ–¥–∏–ª—Å—è `<pre>` —ç–ª–µ–º–µ–Ω—Ç —Å JSON –¥–∞–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∞.

**–ü—Ä–∏—á–∏–Ω–∞:** 
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `custom` —Ç–∏–ø–∞ —Ä–µ–Ω–¥–µ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
- –í `block-config.js` —Å–ª–∞–π–¥–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `kind: 'custom'` —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `mount`
- –í `UIRenderer` –∏ `BlockUIController` –Ω–µ –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞

### 2. Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ BlockComponent.vue
**–ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ:** –í Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –≤—ã–≤–æ–¥–∏–ª–∞—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–Ω–¥–µ—Ä–µ –±–ª–æ–∫–∞.

**–ü—Ä–∏—á–∏–Ω–∞:** –û—Å—Ç–∞–≤–ª–µ–Ω debug –∫–æ–¥ –≤ production —Ñ–∞–π–ª–µ.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Core —Å–ª–æ–π (–¢–∏–ø—ã)
‚úÖ **src/core/types/common.ts**
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç `custom` –≤ `TRenderRef`:
  ```typescript
  {
    kind: 'custom';
    mount: (container: HTMLElement, props: Record<string, any>) => void;
    unmount?: (container: HTMLElement) => void;
  }
  ```
- –û–±–Ω–æ–≤–ª–µ–Ω —Ç–∏–ø HTML template –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π:
  ```typescript
  {
    kind: 'html';
    template: string | ((props: Record<string, any>) => string);
  }
  ```

### –£—Ç–∏–ª–∏—Ç—ã
‚úÖ **src/utils/renderHelpers.ts**
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å custom render:
  - `isCustomRender()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ custom render
  - `getCustomMount()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ mount
  - `getCustomUnmount()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ unmount
- –û–±–Ω–æ–≤–ª–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø `getHtmlTemplate()`:
  ```typescript
  string | ((props: Record<string, any>) => string) | null
  ```

### UI —Å–ª–æ–π
‚úÖ **src/ui/services/UIRenderer.ts**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `kind: 'custom'` –≤ `renderBlockContent()`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `renderCustomBlock()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `initializeCustomBlocks()` –¥–ª—è –≤—ã–∑–æ–≤–∞ mount —Ñ—É–Ω–∫—Ü–∏–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTML templates (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–æ–∫ –∏ —Ñ—É–Ω–∫—Ü–∏–π)
- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
  ```javascript
  // –†–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  private renderCustomBlock(block: IBlockDto): string {
    const containerId = `custom-block-${block.id}`;
    return `<div id="${containerId}" class="custom-block-container"></div>`;
  }
  
  // –í—ã–∑—ã–≤–∞–µ—Ç mount –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
  private initializeCustomBlocks(blocks: IBlockDto[]): void {
    blocks.forEach(block => {
      if (config?.render?.kind === 'custom') {
        config.render.mount(container, block.props);
      }
    });
  }
  ```

‚úÖ **src/ui/controllers/BlockUIController.ts**
- –û–±–Ω–æ–≤–ª–µ–Ω `handleCreateBlock()` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ `render` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–ª–æ–∫–∞
- –¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–ª–æ–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–Ω–¥–µ—Ä–µ

‚úÖ **src/ui/components/BlockComponent.vue**
- –£–¥–∞–ª–µ–Ω debug –≤—ã–≤–æ–¥ (—Å—Ç—Ä–æ–∫–∏ 12-17)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ template-—Ñ—É–Ω–∫—Ü–∏–π –≤ `renderedTemplate`:
  ```typescript
  if (typeof template === 'function') {
    return template(props.block.props);
  }
  ```

‚úÖ **src/ui/demo/BlockBuilderDemo.js**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `kind: 'custom'` –≤ `getRenderedContent()`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `renderCustomBlock()`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `initializeCustomBlocks()`
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ custom render –¥–ª—è CDN/Demo –≤–µ—Ä—Å–∏–∏

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Custom Render

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–ª–æ–∫–∞ (–ø—Ä–∏–º–µ—Ä—ã/pure-js-vite/src/block-config.js)
```javascript
{
  gallerySlider: {
    title: '–°–ª–∞–π–¥–µ—Ä –≥–∞–ª–µ—Ä–µ–∏',
    render: {
      kind: 'custom',
      mount: (container, props) => {
        // 1. –°–æ–∑–¥–∞–µ–º HTML —Ä–∞–∑–º–µ—Ç–∫—É
        container.innerHTML = `<div class="swiper">...</div>`;
        
        // 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É
        const swiperEl = container.querySelector('.swiper');
        new Swiper(swiperEl, {
          modules: [Navigation, Pagination, Autoplay],
          // ... –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ props
        });
      }
    },
    fields: [/* –ø–æ–ª—è —Ñ–æ—Ä–º—ã */]
  }
}
```

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

1. **–°–æ–∑–¥–∞–Ω–∏–µ –±–ª–æ–∫–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å –°–ª–∞–π–¥–µ—Ä –≥–∞–ª–µ—Ä–µ–∏"
   - `BlockUIController.handleCreateBlock()` —Å–æ–∑–¥–∞–µ—Ç –±–ª–æ–∫ —Å `render` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

2. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ HTML:**
   - `UIRenderer.renderBlockContent()` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø `custom`
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `renderCustomBlock()`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID

3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ HTML –≤ DOM –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `initializeCustomBlocks()`
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ custom –±–ª–æ–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `mount(container, props)`
   - –§—É–Ω–∫—Ü–∏—è `mount` –ø–æ–ª—É—á–∞–µ—Ç DOM —ç–ª–µ–º–µ–Ω—Ç –∏ –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Custom Render

‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- Swiper.js ‚úì
- Chart.js ‚úì
- Three.js ‚úì
- Leaflet (–∫–∞—Ä—Ç—ã) ‚úì
- –ò –¥—Ä—É–≥–∏–µ...

‚úÖ **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- Core: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø—ã
- UI: —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–∫—É —á–µ—Ä–µ–∑ mount

‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- HTML templates —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–∞
```bash
# –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ü—Ä–∏–º–µ—Ä
cd examples/pure-js-vite
npm install
npm run dev
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3001
2. –ù–∞–∂–∞—Ç—å "üìù –î–æ–±–∞–≤–∏—Ç—å –°–ª–∞–π–¥–µ—Ä –≥–∞–ª–µ—Ä–µ–∏"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
4. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å"
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Swiper —Å–ª–∞–π–¥–µ—Ä
   - ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—è (—Ç–æ—á–∫–∏)
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)
   - ‚ùå –ù–ï–¢ `<pre>` —Å JSON
   - ‚ùå –ù–ï–¢ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

## –î—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### examples/pure-js-cdn
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HTML template + MutationObserver
- –ù–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ

### examples/vue3
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ù–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ

### examples/api-usage
- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å custom render –ø–æ –∂–µ–ª–∞–Ω–∏—é

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

‚úÖ **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- Core —Å–ª–æ–π –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç UI
- UI –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π Core
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ç–∏–ø, –Ω–æ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

‚úÖ **SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- Single Responsibility: –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–æ –¥–µ–ª–æ
- Open/Closed: —Ä–∞—Å—à–∏—Ä–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- Dependency Inversion: UI –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ Core

‚úÖ **–°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞:**
- –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö ‚úì
- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å I ‚úì
- TypeScript —Ç–∏–ø—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å T ‚úì
- –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ ‚úì

## –§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- `CUSTOM_RENDER_FIX.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `examples/pure-js-vite/TEST_INSTRUCTIONS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- `ERRORS_FIXED_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## –°—Ç–∞—Ç—É—Å

üü¢ **–í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã**
üü¢ **–°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫**
üü¢ **TypeScript —Ç–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã**
üü¢ **–õ–∏–Ω—Ç–µ—Ä –Ω–µ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–æ–∫**
üü¢ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**

